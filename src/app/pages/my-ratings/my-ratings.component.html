<div *ngFor="let r of ratings" class="bg-gray-800 text-white p-4 rounded mb-4 flex gap-4 items-start">

  <img [src]="'https://image.tmdb.org/t/p/w200' + r.posterPath" class="rounded w-24 h-auto flex-shrink-0" />


  <div class="flex-1">
    <h3 class="text-xl font-semibold">{{ r.movieTitle }}</h3>
    <p class="text-sm text-gray-400 mb-2">Puntuaci√≥n: {{ r.score }}/10</p>
    <p>{{ r.comment }}</p>

    <div *ngIf="editingId !== r.id" class="flex gap-2 mt-2">
      <button (click)="startEdit(r)" class="px-2 py-1 bg-yellow-500 text-white rounded">Editar</button>
      <button (click)="deleteRating(r.id)" class="px-2 py-1 bg-red-600 text-white rounded">Eliminar</button>
    </div>

    <div *ngIf="editingId === r.id" class="mt-4 w-full">
      <textarea [(ngModel)]="editComment" class="w-full min-h-[80px] p-2 rounded bg-gray-700 text-white resize-none"></textarea>
      <input type="number" [(ngModel)]="editScore" min="1" max="10" class="w-20 mt-2 p-1 rounded bg-gray-700 text-white" />
      <div class="mt-2 flex gap-2">
        <button (click)="saveEdit(r.id)" class="px-3 py-1 bg-green-600 rounded">Guardar</button>
        <button (click)="editingId = null" class="px-3 py-1 bg-gray-600 rounded">Cancelar</button>
      </div>
    </div>
  </div>
</div>
